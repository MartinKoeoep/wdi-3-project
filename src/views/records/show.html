<div class="display-container">
  <div class="columns  is-multiline">
    <div class="column is-one-quarter-desktop">
      <div class="card-image">
        <figure class="image record-show-image">
          <img ng-src="{{ record.image }}" alt="{{ record.title}}"/>
        </figure>
      </div>
      <hr class="edit-album-hr">
      <a ui-sref="recordsEdit({ id: record._id })" class="button edit-album-button" ng-if="isAuthenticated() && isOwner">Edit Album Details</a>
      <button class="button is-danger" ng-click="deleteRecord()" ng-if="isAuthenticated() && isOwner">Delete Album</button>
    </div>
    <div class="column is-half-desktop">
      <div class="card record-show-card">
        <div class="content">
          <h2 class="title show-info is-2">{{ record.title }}</h2>
          <h4 class="title show-info is-4">by <strong>{{ record.artist }}</strong></h4>
          <hr>
          <h5 class="title show-info is-5"><strong>Genres:</strong> <span ng-repeat="genre in record.genres"><span ng-if="!$last">{{ genre }} | </span><span ng-if="$last">{{ genre }}</span></h5>
          <hr>
          <h5 class="title show-info is-5"><strong>Label:</strong> {{ record.label }} </h5>
          <hr>
          <h5 class="title show-info is-5"><strong>Release Date:</strong> {{ record.releaseDate }} </h5>
          <hr>
          <h5 class="title show-info is-5"><strong>Condition:</strong> {{ record.condition }} </h5>
          <hr>
          <h5 class="title show-info is-5"><strong>Rating:</strong> {{ '⭐️'.repeat(record.avgRating)}} </h5>
        </div>
      </div>
      <div class="card" ng-repeat="comment in record.comments">
        <div class="card-content">
          <div class="content">
            <h5 class="title is-5">{{ comment.content }}</h5>
            <h6 class="title is-6">Rated: {{ '⭐️'.repeat(comment.rating) }}</h6>
            <h6 class="title is-6">By: {{ comment.author.username }}</h6>
          </div>
          <button class="button is-danger commentDelete" ng-click="deleteComment(comment)" ng-if="isAuthenticated()">DELETE</button>
        </div>
      </div>
      <div class="column is-three-quarters" ng-if="isAuthenticated()">
        <form ng-submit="createComment()">
          <div class="field">
            <label class="label" for="content">Comment</label>
            <textarea class="input" id="content" name="content" placeholder="Content" ng-model="commentData.content">
            </textarea>
          </div>
          <div class="field">
            <div class="control">
              <label class="label">Rating</label>
              <div class="select">
                <select ng-model="commentData.rating">
                  <option value="">Please select</option>
                  <option value="1">⭐️</option>
                  <option value="2">⭐️⭐️</option>
                  <option value="3">⭐️⭐️⭐️</option>
                  <option value="4">⭐️⭐️⭐️⭐️</option>
                  <option value="5">⭐️⭐️⭐️⭐️⭐️</option>
                </select>
              </div>
            </div>
          </div>
          <button>Submit Comment</button>
        </form>
      </div>
    </div>
    <div class="column is-one-quarter-desktop">
      <a class="button" ng-if="!isOwner" ui-sref="requestsNew({ id: record._id })">Make an offer</a>
    </div>
  </div>
</div>
